package leetcode.editor.cn;

import java.util.Comparator;
import java.util.PriorityQueue;

/**
 * щвШчЫоя╝Ъф╝Ъшооход III
 * щвШчЫоч╝ЦхП╖я╝Ъ2402
 * цЧ╢щЧ┤я╝Ъ2023-09-01 14:08:08
 * щАЪш┐Зя╝Ъя╝Я
 */
public class MeetingRoomsIii {
    public static void main(String[] args) {
        Solution solution = new MeetingRoomsIii().new Solution();
//      int[][] nums = {{0, 10}, {1, 5}, {2, 7}, {3, 4}};
//        int[][] nums = {{1, 20}, {2, 10}, {3, 5}, {4, 9}, {6, 8}};
        int[][] nums = {{80008, 80009}, {80009, 80010}, {80010, 80011}, {80011, 80012}};
        int i = solution.mostBooked(3, nums);
        System.out.println("i = " + i);

    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        public int mostBooked(int n, int[][] meetings) {
            int[] meetStatus = new int[n];
            int[] meetingTimes = new int[n];

            PriorityQueue<int[]> queue = new PriorityQueue<>(Comparator.comparingInt(o -> o[0]));

            for (int[] meeting : meetings) {
                queue.offer(meeting);
            }

            int preStartTime = 0;
            while (!queue.isEmpty()) {
                int[] poll = queue.poll();
                int min = meetStatus[0];
                int index = 0;
                for (int i = 0; i < meetStatus.length; i++) {
                    meetStatus[i] = Math.max(meetStatus[i] - (poll[0] - preStartTime), 0);
                    if (meetStatus[i] < min) {
                        min = meetStatus[i];
                        index = i;
                    }
                }
                meetStatus[index] += poll[1] - poll[0];
                meetingTimes[index]++;
                preStartTime = poll[0];
            }

            int res = 0;
            int times = meetingTimes[0];
            for (int i = 1; i < meetingTimes.length; i++) {
                if (meetingTimes[i] > times) {
                    times = meetingTimes[i];
                    res = i;
                }
            }
            return res;
        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}


//ч╗Щф╜аф╕Аф╕кцХ┤цХ░ n я╝МхЕ▒цЬЙч╝ЦхП╖ф╗О 0 хИ░ n - 1 чЪД n ф╕кф╝ЪшооходуАВ 
//
// ч╗Щф╜аф╕Аф╕кф║Мч╗┤цХ┤цХ░цХ░ч╗Д meetings я╝МхЕ╢ф╕н meetings[i] = [starti, endi] шбичд║ф╕АхЬ║ф╝Ъшоох░Жф╝ЪхЬи хНКщЧн цЧ╢щЧ┤хМ║щЧ┤ [
//starti, endi) ф╕╛хКЮуАВцЙАцЬЙ starti чЪДхА╝ ф║Тф╕НчЫ╕хРМ уАВ 
//
// ф╝Ъшоох░Жф╝ЪцМЙф╗еф╕ЛцЦ╣х╝ПхИЖщЕНч╗Щф╝Ъшооходя╝Ъ 
//
// 
// цпПхЬ║ф╝ЪшоощГ╜ф╝ЪхЬицЬкхНачФиф╕Фч╝ЦхП╖ цЬАх░П чЪДф╝Ъшооходф╕╛хКЮуАВ 
// хжВцЮЬц▓бцЬЙхПпчФичЪДф╝Ъшооходя╝Мф╝Ъшоох░Жф╝Ъх╗╢цЬЯя╝МчЫ┤хИ░хнШхЬичй║щЧ▓чЪДф╝ЪшооходуАВх╗╢цЬЯф╝ЪшоочЪДцМБч╗нцЧ╢щЧ┤хТМхОЯф╝ЪшооцМБч╗нцЧ╢щЧ┤ чЫ╕хРМ уАВ 
// х╜Уф╝ЪшооходхдДф║ОцЬкхНачФичК╢цАБцЧ╢я╝Мх░Жф╝Ъф╝ШхЕИцПРф╛Ыч╗ЩхОЯ х╝АхзЛ цЧ╢щЧ┤цЫ┤цЧйчЪДф╝ЪшооуАВ 
// 
//
// ш┐ФхЫЮф╕╛хКЮцЬАхдЪцмбф╝ЪшоочЪДцИ┐щЧ┤ ч╝ЦхП╖ уАВхжВцЮЬхнШхЬихдЪф╕кцИ┐щЧ┤ц╗бш╢│цндцЭбф╗╢я╝МхИЩш┐ФхЫЮч╝ЦхП╖ цЬАх░П чЪДцИ┐щЧ┤уАВ 
//
// хНКщЧнхМ║щЧ┤ [a, b) цШп a хТМ b ф╣ЛщЧ┤чЪДхМ║щЧ┤я╝МхМЕцЛм a ф╜Ж ф╕НхМЕцЛм b уАВ 
//
// 
//
// чд║ф╛Л 1я╝Ъ 
//
// ш╛УхЕея╝Ъn = 2, meetings = [[0,10],[1,5],[2,7],[3,4]]
//ш╛УхЗ║я╝Ъ0
//шзгщЗКя╝Ъ
//- хЬицЧ╢щЧ┤ 0 я╝Мф╕дф╕кф╝ЪшооходщГ╜цЬкхНачФия╝Мчммф╕АхЬ║ф╝ЪшоохЬиф╝Ъшооход 0 ф╕╛хКЮуАВ
//- хЬицЧ╢щЧ┤ 1 я╝МхПкцЬЙф╝Ъшооход 1 цЬкхНачФия╝Мчммф║МхЬ║ф╝ЪшоохЬиф╝Ъшооход 1 ф╕╛хКЮуАВ
//- хЬицЧ╢щЧ┤ 2 я╝Мф╕дф╕кф╝ЪшооходщГ╜швлхНачФия╝Мчммф╕ЙхЬ║ф╝Ъшоох╗╢цЬЯф╕╛хКЮуАВ
//- хЬицЧ╢щЧ┤ 3 я╝Мф╕дф╕кф╝ЪшооходщГ╜швлхНачФия╝МчммхЫЫхЬ║ф╝Ъшоох╗╢цЬЯф╕╛хКЮуАВ
//- хЬицЧ╢щЧ┤ 5 я╝Мф╝Ъшооход 1 чЪДф╝Ъшооч╗УцЭЯуАВчммф╕ЙхЬ║ф╝ЪшоохЬиф╝Ъшооход 1 ф╕╛хКЮя╝МцЧ╢щЧ┤хСицЬЯф╕║ [5,10) уАВ
//- хЬицЧ╢щЧ┤ 10 я╝Мф╕дф╕кф╝ЪшооходчЪДф╝ЪшоощГ╜ч╗УцЭЯуАВчммхЫЫхЬ║ф╝ЪшоохЬиф╝Ъшооход 0 ф╕╛хКЮя╝МцЧ╢щЧ┤хСицЬЯф╕║ [10,11) уАВ
//ф╝Ъшооход 0 хТМф╝Ъшооход 1 щГ╜ф╕╛хКЮф║Ж 2 хЬ║ф╝Ъшооя╝МцЙАф╗еш┐ФхЫЮ 0 уАВ 
// 
//
// чд║ф╛Л 2я╝Ъ 
//
// ш╛УхЕея╝Ъn = 3, meetings = [[1,20],[2,10],[3,5],[4,9],[6,8]]
//ш╛УхЗ║я╝Ъ1
//шзгщЗКя╝Ъ
//- хЬицЧ╢щЧ┤ 1 я╝МцЙАцЬЙф╕Йф╕кф╝ЪшооходщГ╜цЬкхНачФия╝Мчммф╕АхЬ║ф╝ЪшоохЬиф╝Ъшооход 0 ф╕╛хКЮуАВ
//- хЬицЧ╢щЧ┤ 2 я╝Мф╝Ъшооход 1 хТМ 2 цЬкхНачФия╝Мчммф║МхЬ║ф╝ЪшоохЬиф╝Ъшооход 1 ф╕╛хКЮуАВ
//- хЬицЧ╢щЧ┤ 3 я╝МхПкцЬЙф╝Ъшооход 2 цЬкхНачФия╝Мчммф╕ЙхЬ║ф╝ЪшоохЬиф╝Ъшооход 2 ф╕╛хКЮуАВ
//- хЬицЧ╢щЧ┤ 4 я╝МцЙАцЬЙф╕Йф╕кф╝ЪшооходщГ╜швлхНачФия╝МчммхЫЫхЬ║ф╝Ъшоох╗╢цЬЯф╕╛хКЮуАВ 
//- хЬицЧ╢щЧ┤ 5 я╝Мф╝Ъшооход 2 чЪДф╝Ъшооч╗УцЭЯуАВчммхЫЫхЬ║ф╝ЪшоохЬиф╝Ъшооход 2 ф╕╛хКЮя╝МцЧ╢щЧ┤хСицЬЯф╕║ [5,10) уАВ
//- хЬицЧ╢щЧ┤ 6 я╝МцЙАцЬЙф╕Йф╕кф╝ЪшооходщГ╜швлхНачФия╝Мчммф║ФхЬ║ф╝Ъшоох╗╢цЬЯф╕╛хКЮуАВ 
//- хЬицЧ╢щЧ┤ 10 я╝Мф╝Ъшооход 1 хТМ 2 чЪДф╝Ъшооч╗УцЭЯуАВчммф║ФхЬ║ф╝ЪшоохЬиф╝Ъшооход 1 ф╕╛хКЮя╝МцЧ╢щЧ┤хСицЬЯф╕║ [10,12) уАВ 
//ф╝Ъшооход 1 хТМф╝Ъшооход 2 щГ╜ф╕╛хКЮф║Ж 2 хЬ║ф╝Ъшооя╝МцЙАф╗еш┐ФхЫЮ 1 уАВ 
// 
//
// 
//
// цПРчд║я╝Ъ 
//
// 
// 1 <= n <= 100 
// 1 <= meetings.length <= 10тБ╡ 
// meetings[i].length == 2 
// 0 <= starti < endi <= 5 * 10тБ╡ 
// starti чЪДцЙАцЬЙхА╝ ф║Тф╕НчЫ╕хРМ 
// 
//
// Related Topics цХ░ч╗Д цОТх║П хаЖя╝Иф╝ШхЕИщШЯхИЧя╝Й ЁЯСН 31 ЁЯСО 0
